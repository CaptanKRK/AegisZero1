<div class="card">
  <h3>eBay Checker</h3>
  <p>Open an eBay listing in the active tab, then click "Analyze Listing".</p>
  <button class="btn" id="analyze-ebay">Analyze Listing</button>
</div>
<script>
document.getElementById('analyze-ebay').addEventListener('click', async ()=>{
  // ask background/service worker to run content script on active tab
  chrome.tabs.query({active:true,currentWindow:true}, (tabs)=>{
    chrome.tabs.sendMessage(tabs[0].id, {action:'extract-ebay'}, (res)=>{
      // background/classifier will return analysis
      if(res && res.html) window.showModal(res.html);
    });
  });
});
</script>
