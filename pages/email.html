<div class="card">
  <h3>Email Checker</h3>
  <input id="email-input" class="input" placeholder="name@example.com" />
  <input id="hibp-key" class="input" placeholder="HIBP API Key (optional)" />
  <button id="check-email" class="btn">Check</button>
  <div id="email-result"></div>
</div>
<script>
document.getElementById('check-email').addEventListener('click', async () => {
  const email = document.getElementById('email-input').value;
  const key = document.getElementById('hibp-key').value;
  if(!email) return alert('enter email');
  const url = `https://haveibeenpwned.com/api/v3/breachedaccount/${encodeURIComponent(email)}?truncateResponse=true`;
  const res = await fetch(url, { headers: { 'hibp-api-key': key || '' }});
  if(res.status === 200){
    const breaches = await res.json();
    document.getElementById('email-result').innerText = `Breaches found: ${breaches.length}`;
  } else if(res.status === 404){
    document.getElementById('email-result').innerText = 'No breach found';
  } else {
    document.getElementById('email-result').innerText = 'Error: ' + res.status;
  }
});
</script>
